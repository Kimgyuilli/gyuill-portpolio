@custom-variant dark (&:is(.dark *));

/* CSS Reset */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html,
body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
}

:root {
  /* Typography */
  --font-size: 16px;
  --font-weight-medium: 500;
  --font-weight-normal: 400;

  /* Text Colors - Light Mode (개선된 대비) */
  --text-primary: rgb(15, 23, 42); /* Titles - slate-900 */
  --text-secondary: rgb(30, 41, 59); /* Subtitles - slate-800 (개선) */
  --text-body: rgb(51, 65, 85); /* Body text - slate-700 (개선) */
  --text-muted: rgb(71, 85, 105); /* Muted text - slate-600 (개선) */
  --text-disabled: rgb(148, 163, 184); /* Disabled - slate-400 */

  /* Background Colors - Light Mode */
  --bg-body: rgb(248, 250, 252); /* Main background - slate-50 */
  --bg-section: rgba(
    243,
    244,
    246,
    0.7
  ); /* Section background - gray-100/70 (improved visibility) */
  --bg-card: rgb(255, 255, 255); /* Card background - white */
  --bg-card-alt: rgba(243, 244, 246, 0.75); /* Alternative card - gray-100/75 (improved contrast) */
  --bg-hover: rgba(243, 244, 246, 0.9); /* Hover state (improved visibility) */
  --bg-input: rgb(248, 250, 252); /* Input background - slate-50 */

  /* Border Colors - Light Mode */
  --border-light: rgb(203, 213, 225); /* Light borders - slate-300 (improved visibility) */
  --border-medium: rgb(148, 163, 184); /* Medium borders - slate-400 (improved contrast) */

  /* Accent Colors - Emerald */
  --accent-primary: rgb(16, 185, 129); /* emerald-500 */
  --accent-primary-hover: rgb(5, 150, 105); /* emerald-600 */
  --accent-primary-hover-strong: rgb(4, 120, 87); /* emerald-700 - for brand hover */
  --accent-hover: rgba(16, 185, 129, 0.2); /* emerald hover bg */
  --accent-border: rgba(16, 185, 129, 0.5); /* emerald border */
  --accent-text: rgb(255, 255, 255); /* Text on accent bg - white */

  /* Gradient Colors - Purple */
  --gradient-purple-1: rgb(168, 85, 247); /* purple-500 */
  --gradient-purple-2: rgb(139, 92, 246); /* violet-500 */

  /* Toggle/Switch Colors */
  --toggle-track: rgb(203, 213, 225); /* slate-300 */
  --toggle-thumb: rgb(255, 255, 255); /* white */
  --toggle-sun: rgb(251, 146, 60); /* orange-400 */
  --toggle-moon: rgb(96, 165, 250); /* blue-400 */

  /* Spacing System */
  --spacing-xs: 0.25rem; /* 4px */
  --spacing-sm: 0.5rem; /* 8px */
  --spacing-sm-md: 0.75rem; /* 12px */
  --spacing-md: 1rem; /* 16px */
  --spacing-lg: 1.5rem; /* 24px */
  --spacing-xl: 2rem; /* 32px */
  --spacing-2xl: 2.5rem; /* 40px */
  --spacing-3xl: 3rem; /* 48px */
  --spacing-4xl: 5rem; /* 80px */

  /* Alpha Colors - Light Mode */
  --border-light-alpha-30: rgba(203, 213, 225, 0.3);
  --border-light-alpha-50: rgba(203, 213, 225, 0.5);
  --bg-light-alpha-30: rgba(226, 232, 240, 0.3);
  --bg-light-alpha-50: rgba(203, 213, 225, 0.5);

  /* Skill Colors - Orange (Primary) */
  --skill-primary-bg: rgba(249, 115, 22, 0.2);
  --skill-primary-border: rgba(249, 115, 22, 0.3);
  --skill-primary-text: rgb(251, 146, 60);

  /* Skill Colors - Yellow (Secondary) */
  --skill-secondary-bg: rgba(234, 179, 8, 0.2);
  --skill-secondary-border: rgba(234, 179, 8, 0.3);
  --skill-secondary-text: rgb(250, 204, 21);

  /* Skill Colors - Gray (Tertiary) */
  --skill-tertiary-bg: rgba(100, 116, 139, 0.15); /* slate-500/15 (subtle background) */
  --skill-tertiary-border: rgba(100, 116, 139, 0.35); /* slate-500/35 (visible border) */
  --skill-tertiary-text: rgb(51, 65, 85); /* slate-700 (improved contrast) */

  /* Tag Colors */
  --tag-emerald-bg: rgba(52, 211, 153, 0.2);
  --tag-emerald-text: rgb(52, 211, 153);
  --tag-blue-bg: rgba(59, 130, 246, 0.2);
  --tag-blue-text: rgb(96, 165, 250);

  /* Modal/Overlay Colors - Light Mode */
  --modal-backdrop: rgba(0, 0, 0, 0.75); /* Modal backdrop overlay */
  --modal-close-bg: rgba(71, 85, 105, 0.8); /* Close button - slate-600/80 */
  --modal-close-text: rgb(255, 255, 255); /* Close button text */
  --modal-close-hover: rgb(51, 65, 85); /* Close button hover - slate-700 */

  /* Solid Badge Colors - Light Mode (for ProjectModal) */
  --badge-emerald-solid-bg: rgb(236, 253, 245); /* emerald-50 */
  --badge-emerald-solid-text: rgb(5, 150, 105); /* emerald-600 */

  /* Size Variables */
  --profile-size: 12rem;
  --project-image-size: 3rem;
  --icon-size-sm: 1rem;
  --icon-size-md: 2rem;
  --timeline-date-width: 10.5rem; /* Increased for better alignment (supports up to 17 chars) */

  /* Legacy variables (kept for compatibility) */
  --background: #ffffff;
  --foreground: oklch(0.145 0 0);
  --radius: 0.625rem;
}

.dark {
  /* Text Colors - Dark Mode */
  --text-primary: rgb(241, 245, 249); /* Titles - slate-100 */
  --text-secondary: rgb(226, 232, 240); /* Subtitles - slate-200 */
  --text-body: rgb(203, 213, 225); /* Body text - slate-300 */
  --text-muted: rgb(148, 163, 184); /* Muted text - slate-400 */
  --text-disabled: rgb(100, 116, 139); /* Disabled - slate-500 */

  /* Background Colors - Dark Mode */
  --bg-body: rgb(2, 6, 23); /* Main background - slate-950 */
  --bg-section: rgba(15, 23, 42, 0.5); /* Section background - slate-900/50 */
  --bg-card: rgb(15, 23, 42); /* Card background - slate-900 */
  --bg-card-alt: rgba(15, 23, 42, 0.5); /* Alternative card - slate-900/50 */
  --bg-hover: rgba(30, 41, 59, 0.8); /* Hover state - slate-800/80 */
  --bg-input: rgb(15, 23, 42); /* Input background - slate-900 */

  /* Border Colors - Dark Mode */
  --border-light: rgb(30, 41, 59); /* Light borders - slate-800 */
  --border-medium: rgb(71, 85, 105); /* Medium borders - slate-600 */

  /* Accent Colors - Emerald Dark (slightly brighter) */
  --accent-primary: rgb(52, 211, 153); /* emerald-400 */
  --accent-primary-hover: rgb(16, 185, 129); /* emerald-500 */
  --accent-primary-hover-strong: rgb(110, 231, 183); /* emerald-300 - for brand hover */
  --accent-hover: rgba(52, 211, 153, 0.2); /* emerald hover bg */
  --accent-border: rgba(52, 211, 153, 0.5); /* emerald border */
  --accent-text: rgb(15, 23, 42); /* Text on accent bg - dark slate */

  /* Gradient Colors - Purple (reversed for dark) */
  --gradient-purple-1: rgb(139, 92, 246); /* violet-500 */
  --gradient-purple-2: rgb(168, 85, 247); /* purple-500 */

  /* Toggle/Switch Colors */
  --toggle-track: rgb(51, 65, 85); /* slate-700 */

  /* Alpha Colors - Dark Mode */
  --border-dark-alpha-30: rgba(71, 85, 105, 0.3);
  --border-dark-alpha-50: rgba(71, 85, 105, 0.5);
  --bg-dark-alpha-30: rgba(30, 41, 59, 0.3);
  --bg-dark-alpha-50: rgba(30, 41, 59, 0.5);

  /* Skill Colors - Dark Mode (tertiary only changes) */
  --skill-tertiary-bg: rgba(71, 85, 105, 0.3);
  --skill-tertiary-border: rgba(71, 85, 105, 0.5);
  --skill-tertiary-text: rgb(203, 213, 225);

  /* Modal/Overlay Colors - Dark Mode */
  --modal-backdrop: rgba(0, 0, 0, 0.85); /* Darker backdrop for dark mode */
  --modal-close-bg: rgba(148, 163, 184, 0.8); /* Close button - slate-400/80 */
  --modal-close-text: rgb(15, 23, 42); /* Close button text - slate-900 */
  --modal-close-hover: rgb(203, 213, 225); /* Close button hover - slate-300 */

  /* Solid Badge Colors - Dark Mode */
  --badge-emerald-solid-bg: rgba(52, 211, 153, 0.1); /* emerald-400/10 */
  --badge-emerald-solid-text: rgb(52, 211, 153); /* emerald-400 */

  /* Legacy variables (kept for compatibility) */
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
}

@theme inline {
  /* Border radius utilities */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/**
 * Base typography. This is not applied to elements which have an ancestor with a Tailwind text class.
 */
@layer base {
  :where(:not(:has([class*=' text-']), :not(:has([class^='text-'])))) {
    h1 {
      font-size: var(--text-2xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h2 {
      font-size: var(--text-xl);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h3 {
      font-size: var(--text-lg);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    h4 {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    p {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }

    label {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    button {
      font-size: var(--text-base);
      font-weight: var(--font-weight-medium);
      line-height: 1.5;
    }

    input {
      font-size: var(--text-base);
      font-weight: var(--font-weight-normal);
      line-height: 1.5;
    }
  }
}

html {
  font-size: var(--font-size);
  zoom: 0.9; /* 화면 전체를 90%로 축소 */
}

/* Smooth theme transition */
html.theme-transition,
html.theme-transition *,
html.theme-transition *::before,
html.theme-transition *::after {
  transition:
    background-color 0.3s ease,
    border-color 0.3s ease,
    color 0.3s ease,
    fill 0.3s ease,
    stroke 0.3s ease !important;
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  html.theme-transition,
  html.theme-transition *,
  html.theme-transition *::before,
  html.theme-transition *::after {
    transition: none !important;
  }
}

/* View Transitions API - Smooth cross-fade animation */
@supports (view-transition-name: none) {
  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation-duration: 0.3s;
    animation-timing-function: ease;
  }

  ::view-transition-old(root) {
    animation-name: fade-out;
  }

  ::view-transition-new(root) {
    animation-name: fade-in;
  }

  @keyframes fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
}

/* ImageWithFallback에서 사용하는 유틸리티 클래스 */
.inline-block {
  display: inline-block;
}

.bg-gray-100 {
  background-color: rgb(243, 244, 246);
}

.text-center {
  text-align: center;
}

.align-middle {
  vertical-align: middle;
}

.flex {
  display: flex;
}

.items-center {
  align-items: center;
}

.justify-center {
  justify-content: center;
}

.w-full {
  width: 100%;
}

.h-full {
  height: 100%;
}

/* 전역 스크롤바 커스터마이징 */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--text-disabled) var(--bg-body);
}

*::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

*::-webkit-scrollbar-track {
  background: var(--bg-body);
}

*::-webkit-scrollbar-thumb {
  background: var(--text-disabled);
  border-radius: 5px;
  border: 2px solid var(--bg-body);
}

*::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}
